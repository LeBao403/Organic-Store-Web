// XÃ“A Dá»® LIá»†U CÅ¨
MATCH (n) DETACH DELETE n;

// ==========================
// ðŸ¥¦ DANH Má»¤C
// ==========================
CREATE
(:DanhMuc {MaDM: "DM01", TenDM: "Rau Cá»§ TÆ°Æ¡i"}),
(:DanhMuc {MaDM: "DM02", TenDM: "TrÃ¡i CÃ¢y"}),
(:DanhMuc {MaDM: "DM03", TenDM: "NgÅ© Cá»‘c Há»¯u CÆ¡"}),
(:DanhMuc {MaDM: "DM04", TenDM: "Gia Vá»‹ ThiÃªn NhiÃªn"});

// ==========================
// ðŸ¥• Sáº¢N PHáº¨M (má»—i danh má»¥c ~10 sp)
// ==========================
CREATE
// DM01 - Rau cá»§
(:SanPham {MaSP:"SP001", TenSP:"CÃ  rá»‘t ÄÃ  Láº¡t", DonVi:"Kg", GiaBan:35000, MoTa:"TÆ°Æ¡i, khÃ´ng thuá»‘c trá»« sÃ¢u", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP002", TenSP:"Khoai tÃ¢y vÃ ng", DonVi:"Kg", GiaBan:40000, MoTa:"Khoai tÃ¢y sáº¡ch ÄÃ  Láº¡t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP003", TenSP:"Cáº£i bÃ³ xÃ´i", DonVi:"BÃ³", GiaBan:45000, MoTa:"Rau xanh lÃ¡ tÆ°Æ¡i tá»‘t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/cai-be_epqmoy.png"}),
(:SanPham {MaSP:"SP004", TenSP:"XÃ  lÃ¡ch Romaine", DonVi:"BÃ³", GiaBan:38000, MoTa:"TÆ°Æ¡i giÃ²n, khÃ´ng cháº¥t báº£o quáº£n", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP005", TenSP:"BÃ­ ngÃ²i xanh", DonVi:"Kg", GiaBan:48000, MoTa:"GiÃ u cháº¥t xÆ¡", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP006", TenSP:"CÃ  chua bi", DonVi:"Kg", GiaBan:60000, MoTa:"TÆ°Æ¡i ngon, Ä‘á» má»ng", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP007", TenSP:"Rau muá»‘ng há»¯u cÆ¡", DonVi:"BÃ³", GiaBan:25000, MoTa:"Trá»“ng thá»§y canh sáº¡ch", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP008", TenSP:"Cá»§ dá»n Ä‘á»", DonVi:"Kg", GiaBan:52000, MoTa:"Tá»‘t cho tim máº¡ch", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP009", TenSP:"SÃºp lÆ¡ xanh", DonVi:"Kg", GiaBan:55000, MoTa:"GiÃ u vitamin C", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP010", TenSP:"HÃ nh tÃ¢y vÃ ng", DonVi:"Kg", GiaBan:30000, MoTa:"ThÆ¡m, Ã­t cay", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),

// DM02 - TrÃ¡i cÃ¢y
(:SanPham {MaSP:"SP011", TenSP:"TÃ¡o Fuji há»¯u cÆ¡", DonVi:"Kg", GiaBan:120000, MoTa:"GiÃ²n ngá»t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP012", TenSP:"Cam há»¯u cÆ¡", DonVi:"Kg", GiaBan:85000, MoTa:"Cam sáº¡ch, nhiá»u nÆ°á»›c", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP013", TenSP:"Chuá»‘i cau", DonVi:"Náº£i", GiaBan:40000, MoTa:"Ngá»t tá»± nhiÃªn", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP014", TenSP:"LÃª HÃ n Quá»‘c", DonVi:"Kg", GiaBan:95000, MoTa:"To, giÃ²n, ngá»t mÃ¡t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP015", TenSP:"BÆ°á»Ÿi da xanh", DonVi:"TrÃ¡i", GiaBan:110000, MoTa:"ThÆ¡m ngon", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP016", TenSP:"DÆ°a lÆ°á»›i", DonVi:"TrÃ¡i", GiaBan:80000, MoTa:"ThÆ¡m ngá»t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP017", TenSP:"DÃ¢u tÃ¢y ÄÃ  Láº¡t", DonVi:"Há»™p", GiaBan:150000, MoTa:"TÆ°Æ¡i, ngá»t nháº¹", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP018", TenSP:"Nho tÃ­m khÃ´ng háº¡t", DonVi:"Kg", GiaBan:130000, MoTa:"Nháº­p kháº©u Ãšc", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP019", TenSP:"Thanh long ruá»™t Ä‘á»", DonVi:"Kg", GiaBan:55000, MoTa:"Viá»‡t Nam, ngá»t mÃ¡t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),
(:SanPham {MaSP:"SP020", TenSP:"XoÃ i cÃ¡t HÃ²a Lá»™c", DonVi:"Kg", GiaBan:90000, MoTa:"ThÆ¡m, dáº»o", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807550/tao_jcnqpe.jpg"}),

// DM03 - NgÅ© cá»‘c
(:SanPham {MaSP:"SP021", TenSP:"Gáº¡o lá»©t Ä‘á»", DonVi:"Kg", GiaBan:55000, MoTa:"Tá»‘t cho sá»©c khá»e", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP022", TenSP:"Yáº¿n máº¡ch cÃ¡n má»ng", DonVi:"GÃ³i", GiaBan:70000, MoTa:"NgÅ© cá»‘c Äƒn sÃ¡ng há»¯u cÆ¡", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP023", TenSP:"Äáº­u nÃ nh vÃ ng", DonVi:"Kg", GiaBan:60000, MoTa:"KhÃ´ng biáº¿n Ä‘á»•i gen", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP024", TenSP:"Äáº­u xanh sáº¡ch", DonVi:"Kg", GiaBan:50000, MoTa:"GiÃ u protein", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP025", TenSP:"Háº¡t chia Peru", DonVi:"GÃ³i", GiaBan:120000, MoTa:"GiÃ u omega-3", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP026", TenSP:"Yáº¿n máº¡ch nguyÃªn háº¡t", DonVi:"GÃ³i", GiaBan:80000, MoTa:"Bá»¯a sÃ¡ng dinh dÆ°á»¡ng", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP027", TenSP:"Gáº¡o Ä‘en há»¯u cÆ¡", DonVi:"Kg", GiaBan:75000, MoTa:"GiÃ u sáº¯t vÃ  káº½m", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP028", TenSP:"NgÃ´ háº¡t khÃ´", DonVi:"Kg", GiaBan:40000, MoTa:"Sáº¥y tá»± nhiÃªn", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP029", TenSP:"Äáº­u phá»™ng há»¯u cÆ¡", DonVi:"Kg", GiaBan:65000, MoTa:"KhÃ´ng muá»‘i, nguyÃªn háº¡t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP030", TenSP:"Yáº¿n máº¡ch Äƒn liá»n", DonVi:"GÃ³i", GiaBan:70000, MoTa:"Tiá»‡n lá»£i", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),

// DM04 - Gia vá»‹
(:SanPham {MaSP:"SP031", TenSP:"Muá»‘i há»“ng Himalaya", DonVi:"HÅ©", GiaBan:70000, MoTa:"Tinh khiáº¿t", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP032", TenSP:"TiÃªu Ä‘en PhÃº Quá»‘c", DonVi:"HÅ©", GiaBan:60000, MoTa:"Cay thÆ¡m", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP033", TenSP:"Máº­t ong hoa cÃ  phÃª", DonVi:"Chai", GiaBan:120000, MoTa:"Ngá»t tá»± nhiÃªn", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP034", TenSP:"ÄÆ°á»ng thá»‘t ná»‘t", DonVi:"Kg", GiaBan:90000, MoTa:"KhÃ´ng táº©y tráº¯ng", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP035", TenSP:"NÆ°á»›c tÆ°Æ¡ng há»¯u cÆ¡", DonVi:"Chai", GiaBan:80000, MoTa:"LÃªn men tá»± nhiÃªn", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP036", TenSP:"Dáº§u mÃ¨ Ä‘en", DonVi:"Chai", GiaBan:100000, MoTa:"NguyÃªn cháº¥t 100%", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP037", TenSP:"Dáº§u Ã´ liu nguyÃªn cháº¥t", DonVi:"Chai", GiaBan:150000, MoTa:"Nháº­p kháº©u Ã", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP038", TenSP:"Bá»™t nghá»‡ há»¯u cÆ¡", DonVi:"GÃ³i", GiaBan:75000, MoTa:"Chá»‘ng oxy hÃ³a", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP039", TenSP:"TÆ°Æ¡ng á»›t lÃªn men", DonVi:"Chai", GiaBan:65000, MoTa:"Tá»± nhiÃªn, khÃ´ng pháº©m mÃ u", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"}),
(:SanPham {MaSP:"SP040", TenSP:"Muá»‘i tiÃªu chanh", DonVi:"HÅ©", GiaBan:45000, MoTa:"DÃ¹ng cháº¥m trÃ¡i cÃ¢y", HinhAnhURL:"https://res.cloudinary.com/dhgzp2ifm/image/upload/v1760807548/ca-rot_crarli.png"});

// ==========================
// ðŸ™ï¸ THÃ€NH PHá» - QUáº¬N - PHÆ¯á»œNG (má»Ÿ rá»™ng)
// ==========================
CREATE
(:ThanhPho {MaTP:"01", TenTP:"TP. HÃ  Ná»™i"}),
(:ThanhPho {MaTP:"79", TenTP:"TP. Há»“ ChÃ­ Minh"}),
(:ThanhPho {MaTP:"48", TenTP:"TP. ÄÃ  Náºµng"}),
(:Quan {MaQuan:"001", TenQuan:"HoÃ n Kiáº¿m"}),
(:Quan {MaQuan:"007", TenQuan:"Äá»‘ng Äa"}),
(:Quan {MaQuan:"037", TenQuan:"Quáº­n 1"}),
(:Quan {MaQuan:"045", TenQuan:"Háº£i ChÃ¢u"}),
(:Phuong {MaPhuong:"00101", TenPhuong:"HÃ ng Gai"}),
(:Phuong {MaPhuong:"00703", TenPhuong:"Trung Tá»±"}),
(:Phuong {MaPhuong:"03702", TenPhuong:"Báº¿n NghÃ©"}),
(:Phuong {MaPhuong:"04505", TenPhuong:"PhÆ°á»›c Ninh"});

// ==========================
// ðŸ¬ Cá»¬A HÃ€NG
// ==========================
CREATE
(:CuaHang {MaCH:"CHHN01", TenCH:"Organic HoÃ n Kiáº¿m", DiaChiCuThe:"15 Phá»‘ HÃ ng BÃ i", SoDienThoai:"024111111"}),
(:CuaHang {MaCH:"CHHCM01", TenCH:"Organic Quáº­n 1", DiaChiCuThe:"90 Nguyá»…n Huá»‡", SoDienThoai:"028222222"}),
(:CuaHang {MaCH:"CHDN01", TenCH:"Organic ÄÃ  Náºµng", DiaChiCuThe:"12 LÃª Duáº©n", SoDienThoai:"0236333333"});

// ==========================
// ðŸ‘¨â€ðŸ’¼ NGÆ¯á»œI QUáº¢N TRá»Š
// ==========================
CREATE
(:NguoiQuanTri {MaQT:"QT001", HoTen:"Nguyá»…n Quá»‘c Báº£o", Email:"bao@organic.vn", SoDienThoai:"0909000001", TenDangNhap:"quanbao", MatKhau:"admin123"}),
(:NguoiQuanTri {MaQT:"QT002", HoTen:"LÃª Minh ThÆ°", Email:"thu@organic.vn", SoDienThoai:"0918000002", TenDangNhap:"lethu", MatKhau:"admin456"}),
(:NguoiQuanTri {MaQT:"QT003", HoTen:"Tráº§n Há»¯u PhÃºc", Email:"phuc@organic.vn", SoDienThoai:"0909000003", TenDangNhap:"tranphuc", MatKhau:"admin789"});

// ==========================
// ðŸ‘©â€ðŸ¦° KHÃCH HÃ€NG
// ==========================
CREATE
(:KhachHang {MaKH:"KH001", HoTen:"Nguyá»…n Thá»‹ A", TenDangNhap:"ngta", MatKhau:"123456", Email:"a@mail.com", SoDienThoai:"0901000001", DiaChiCuThe:"Táº§ng 5, TÃ²a nhÃ  M, 120 ÄÆ°á»ng C", NgaySinh:date("1990-05-15"), LoaiKH:"VIP"}),
(:KhachHang {MaKH:"KH002", HoTen:"Tráº§n VÄƒn B", TenDangNhap:"tranvb", MatKhau:"654321", Email:"b@mail.com", SoDienThoai:"0988000002", DiaChiCuThe:"Sá»‘ 34, NgÃµ 10, Phá»‘ P", NgaySinh:date("1995-11-22"), LoaiKH:"ThÆ°á»ng"}),
(:KhachHang {MaKH:"KH003", HoTen:"Pháº¡m Thá»‹ C", TenDangNhap:"phamc", MatKhau:"111222", Email:"c@mail.com", SoDienThoai:"0919000003", DiaChiCuThe:"123 Nguyá»…n TrÃ£i, Quáº­n 1", NgaySinh:date("1992-03-11"), LoaiKH:"VIP"}),
(:KhachHang {MaKH:"KH004", HoTen:"VÃµ Duy Khang", TenDangNhap:"vokhang", MatKhau:"abc123", Email:"khang@mail.com", SoDienThoai:"0917000004", DiaChiCuThe:"45 Nguyá»…n VÄƒn Linh, ÄÃ  Náºµng", NgaySinh:date("1998-09-01"), LoaiKH:"ThÆ°á»ng"}),
(:KhachHang {MaKH:"KH005", HoTen:"NgÃ´ Thá»‹ Diá»…m", TenDangNhap:"ngodiem", MatKhau:"xyz789", Email:"diem@mail.com", SoDienThoai:"0938000005", DiaChiCuThe:"99 Äiá»‡n BiÃªn Phá»§, TP.HCM", NgaySinh:date("1993-07-12"), LoaiKH:"VIP"});

// ==========================
// ðŸ§¾ HÃ“A ÄÆ N
// ==========================
CREATE
(:HoaDon {MaHD:"HD001", ThanhTien:255000, DiaChiGiaoHang:"Táº§ng 5, TÃ²a nhÃ  M, 120 ÄÆ°á»ng C", NgayTao:datetime("2025-10-10T09:30:00Z"), GhiChu:"Giao trÆ°á»›c 11h", TrangThaiThanhToan:"ÄÃ£ thanh toÃ¡n"}),
(:HoaDon {MaHD:"HD002", ThanhTien:160000, DiaChiGiaoHang:"Sá»‘ 34, NgÃµ 10, Phá»‘ P", NgayTao:datetime("2025-10-12T15:00:00Z"), GhiChu:"Giao trong ngÃ y", TrangThaiThanhToan:"ChÆ°a thanh toÃ¡n"}),
(:HoaDon {MaHD:"HD003", ThanhTien:85000, DiaChiGiaoHang:"123 Nguyá»…n TrÃ£i, Quáº­n 1", NgayTao:datetime("2025-10-15T10:30:00Z"), GhiChu:"Thanh toÃ¡n khi nháº­n hÃ ng", TrangThaiThanhToan:"ÄÃ£ thanh toÃ¡n"}),
(:HoaDon {MaHD:"HD004", ThanhTien:200000, DiaChiGiaoHang:"45 Nguyá»…n VÄƒn Linh, ÄÃ  Náºµng", NgayTao:datetime("2025-10-18T08:45:00Z"), GhiChu:"Giao nhanh", TrangThaiThanhToan:"ÄÃ£ thanh toÃ¡n"}),
(:HoaDon {MaHD:"HD005", ThanhTien:175000, DiaChiGiaoHang:"99 Äiá»‡n BiÃªn Phá»§, TP.HCM", NgayTao:datetime("2025-10-19T16:00:00Z"), GhiChu:"Thanh toÃ¡n online", TrangThaiThanhToan:"ÄÃ£ thanh toÃ¡n"});

// ==========================
// ðŸ”— QUAN Há»†
// ==========================

// SanPham - DanhMuc
MATCH (sp:SanPham), (dm:DanhMuc)
WHERE sp.MaSP >= "SP001" AND sp.MaSP <= "SP010" AND dm.MaDM = "DM01"
CREATE (sp)-[:THUOC_DANHMUC]->(dm);

MATCH (sp:SanPham), (dm:DanhMuc)
WHERE sp.MaSP >= "SP011" AND sp.MaSP <= "SP020" AND dm.MaDM = "DM02"
CREATE (sp)-[:THUOC_DANHMUC]->(dm);

MATCH (sp:SanPham), (dm:DanhMuc)
WHERE sp.MaSP >= "SP021" AND sp.MaSP <= "SP030" AND dm.MaDM = "DM03"
CREATE (sp)-[:THUOC_DANHMUC]->(dm);

MATCH (sp:SanPham), (dm:DanhMuc)
WHERE sp.MaSP >= "SP031" AND sp.MaSP <= "SP040" AND dm.MaDM = "DM04"
CREATE (sp)-[:THUOC_DANHMUC]->(dm);

// KhachHang - HoaDon
MATCH (kh:KhachHang {MaKH:"KH001"}), (hd:HoaDon {MaHD:"HD001"}) CREATE (kh)-[:TAO_HOADON]->(hd);
MATCH (kh:KhachHang {MaKH:"KH002"}), (hd:HoaDon {MaHD:"HD002"}) CREATE (kh)-[:TAO_HOADON]->(hd);
MATCH (kh:KhachHang {MaKH:"KH003"}), (hd:HoaDon {MaHD:"HD003"}) CREATE (kh)-[:TAO_HOADON]->(hd);
MATCH (kh:KhachHang {MaKH:"KH004"}), (hd:HoaDon {MaHD:"HD004"}) CREATE (kh)-[:TAO_HOADON]->(hd);
MATCH (kh:KhachHang {MaKH:"KH005"}), (hd:HoaDon {MaHD:"HD005"}) CREATE (kh)-[:TAO_HOADON]->(hd);

// HoaDon - SanPham (máº«u)
MATCH (hd:HoaDon {MaHD:"HD001"}), (sp:SanPham) WHERE sp.MaSP IN ["SP001","SP011","SP021"] CREATE (hd)-[:CHUA_SANPHAM {SoLuong:2}]->(sp);
MATCH (hd:HoaDon {MaHD:"HD002"}), (sp:SanPham) WHERE sp.MaSP IN ["SP004","SP012","SP031"] CREATE (hd)-[:CHUA_SANPHAM {SoLuong:1}]->(sp);
MATCH (hd:HoaDon {MaHD:"HD003"}), (sp:SanPham) WHERE sp.MaSP IN ["SP019","SP036"] CREATE (hd)-[:CHUA_SANPHAM {SoLuong:1}]->(sp);
MATCH (hd:HoaDon {MaHD:"HD004"}), (sp:SanPham) WHERE sp.MaSP IN ["SP025","SP033"] CREATE (hd)-[:CHUA_SANPHAM {SoLuong:3}]->(sp);
MATCH (hd:HoaDon {MaHD:"HD005"}), (sp:SanPham) WHERE sp.MaSP IN ["SP015","SP035"] CREATE (hd)-[:CHUA_SANPHAM {SoLuong:2}]->(sp);

// CuaHang - SanPham
MATCH (ch:CuaHang {MaCH:"CHHN01"}), (sp:SanPham) WHERE sp.MaSP <= "SP010" CREATE (ch)-[:CUNG_CAP]->(sp);
MATCH (ch:CuaHang {MaCH:"CHHCM01"}), (sp:SanPham) WHERE sp.MaSP >= "SP011" AND sp.MaSP <= "SP030" CREATE (ch)-[:CUNG_CAP]->(sp);
MATCH (ch:CuaHang {MaCH:"CHDN01"}), (sp:SanPham) WHERE sp.MaSP >= "SP031" AND sp.MaSP <= "SP040" CREATE (ch)-[:CUNG_CAP]->(sp);

// NguoiQuanTri - CuaHang
MATCH (qt:NguoiQuanTri {MaQT:"QT001"}), (ch:CuaHang {MaCH:"CHHN01"}) CREATE (qt)-[:QUAN_LY]->(ch);
MATCH (qt:NguoiQuanTri {MaQT:"QT002"}), (ch:CuaHang {MaCH:"CHHCM01"}) CREATE (qt)-[:QUAN_LY]->(ch);
MATCH (qt:NguoiQuanTri {MaQT:"QT003"}), (ch:CuaHang {MaCH:"CHDN01"}) CREATE (qt)-[:QUAN_LY]->(ch);



 // NHÃ€ CUNG Cáº¤P
// ==========================
CREATE
(:NhaCungCap {MaNCC: "NCC01", TenNCC: "Farm An ToÃ n HN", DiaChi: "123 ÄÆ°á»ng Sáº¡ch, HÃ  Ná»™i", SoDienThoai: "0901234567", Email: "contact@farmantoan.vn"}),
(:NhaCungCap {MaNCC: "NCC02", TenNCC: "VÆ°á»n TrÃ¡i CÃ¢y Miá»n Nam", DiaChi: "456 ÄÆ°á»ng Ngá»t, TP.HCM", SoDienThoai: "0987654321", Email: "fruits@miennam.com"}),
(:NhaCungCap {MaNCC: "NCC03", TenNCC: "NgÅ© Cá»‘c Xanh", DiaChi: "789 ÄÆ°á»ng Dinh DÆ°á»¡ng, ÄÃ  Náºµng", SoDienThoai: "0912345678", Email: "ngucocxanh@mail.com"});

// (Má»‘i quan há»‡: NhaCungCap - NHAP_HANG - PhieuNhap)
// ==========================
CREATE
(:PhieuNhap {MaPN: "PN001", NgayLap: date("2025-10-01"), ThanhTien: 5500000}),
(:PhieuNhap {MaPN: "PN002", NgayLap: date("2025-10-05"), ThanhTien: 7200000}),
(:PhieuNhap {MaPN: "PN003", NgayLap: date("2025-10-10"), ThanhTien: 3000000});

// Quan há»‡ NhaCungCap - PhieuNhap
MATCH (ncc:NhaCungCap {MaNCC:"NCC01"}), (pn:PhieuNhap {MaPN:"PN001"}) CREATE (ncc)-[:CUNG_CAP_PHIEU]->(pn);
MATCH (ncc:NhaCungCap {MaNCC:"NCC02"}), (pn:PhieuNhap {MaPN:"PN002"}) CREATE (ncc)-[:CUNG_CAP_PHIEU]->(pn);
MATCH (ncc:NhaCungCap {MaNCC:"NCC03"}), (pn:PhieuNhap {MaPN:"PN003"}) CREATE (ncc)-[:CUNG_CAP_PHIEU]->(pn);

// Quan há»‡ PhieuNhap - SanPham (chi tiáº¿t phiáº¿u nháº­p)
// PN001: SP001 - CÃ  rá»‘t (10kg), SP002 - Khoai tÃ¢y (8kg)
MATCH (pn:PhieuNhap {MaPN:"PN001"}), (sp:SanPham) WHERE sp.MaSP = "SP001" CREATE (pn)-[:NHAP_SANPHAM {SoLuong: 10, DonGiaNhap: 25000}]->(sp);
MATCH (pn:PhieuNhap {MaPN:"PN001"}), (sp:SanPham) WHERE sp.MaSP = "SP002" CREATE (pn)-[:NHAP_SANPHAM {SoLuong: 8, DonGiaNhap: 30000}]->(sp);

// PN002: SP011 - TÃ¡o Fuji (5kg), SP012 - Cam (10kg)
MATCH (pn:PhieuNhap {MaPN:"PN002"}), (sp:SanPham) WHERE sp.MaSP = "SP011" CREATE (pn)-[:NHAP_SANPHAM {SoLuong: 5, DonGiaNhap: 100000}]->(sp);
MATCH (pn:PhieuNhap {MaPN:"PN002"}), (sp:SanPham) WHERE sp.MaSP = "SP012" CREATE (pn)-[:NHAP_SANPHAM {SoLuong: 10, DonGiaNhap: 70000}]->(sp);


// ÄÃNH GIÃ
// (Má»‘i quan há»‡: KhachHang - VIET_DANH_GIA - DanhGia - DANH_GIA_CHO - SanPham)
// ==========================
CREATE
(:DanhGia {MaDG: "DG001", SoSao: 5, BinhLuan: "Rau cá»§ tÆ°Æ¡i ngon, giao hÃ ng nhanh.", NgayTao: datetime("2025-10-11T12:00:00Z")}),
(:DanhGia {MaDG: "DG002", SoSao: 4, BinhLuan: "TÃ¡o giÃ²n, ngá»t nhÆ°ng hÆ¡i máº¯c.", NgayTao: datetime("2025-10-16T15:30:00Z")}),
(:DanhGia {MaDG: "DG003", SoSao: 5, BinhLuan: "Dáº§u Ã´ liu nguyÃªn cháº¥t, ráº¥t Æ°ng Ã½.", NgayTao: datetime("2025-10-20T09:00:00Z")});

// Quan há»‡ KhachHang - DanhGia - SanPham
// KH001 Ä‘Ã¡nh giÃ¡ SP001
MATCH (kh:KhachHang {MaKH:"KH001"}), (dg:DanhGia {MaDG:"DG001"}) CREATE (kh)-[:VIET_DANH_GIA]->(dg);
MATCH (dg:DanhGia {MaDG:"DG001"}), (sp:SanPham {MaSP:"SP001"}) CREATE (dg)-[:DANH_GIA_CHO]->(sp);

// KH003 Ä‘Ã¡nh giÃ¡ SP011
MATCH (kh:KhachHang {MaKH:"KH003"}), (dg:DanhGia {MaDG:"DG002"}) CREATE (kh)-[:VIET_DANH_GIA]->(dg);
MATCH (dg:DanhGia {MaDG:"DG002"}), (sp:SanPham {MaSP:"SP011"}) CREATE (dg)-[:DANH_GIA_CHO]->(sp);

// KH005 Ä‘Ã¡nh giÃ¡ SP037
MATCH (kh:KhachHang {MaKH:"KH005"}), (dg:DanhGia {MaDG:"DG003"}) CREATE (kh)-[:VIET_DANH_GIA]->(dg);
MATCH (dg:DanhGia {MaDG:"DG003"}), (sp:SanPham {MaSP:"SP037"}) CREATE (dg)-[:DANH_GIA_CHO]->(sp);


// KHUYáº¾N MÃƒI
// (Má»‘i quan há»‡: KhuyenMai - AP_DUNG_CHO - SanPham / DanhMuc)
// ==========================
CREATE
(:KhuyenMai {MaKM: "KM001", PhanTram: 10, ThoiGianBatDau: datetime("2025-11-01T00:00:00Z"), ThoiGianKetThuc: datetime("2025-11-15T23:59:59Z")}),
(:KhuyenMai {MaKM: "KM002", PhanTram: 15, ThoiGianBatDau: datetime("2025-10-25T00:00:00Z"), ThoiGianKetThuc: datetime("2025-10-31T23:59:59Z")});

// Quan há»‡ KhuyenMai - SanPham / DanhMuc
// KM001: Giáº£m 10% cho toÃ n bá»™ Danh Má»¥c "TrÃ¡i CÃ¢y" (DM02)
MATCH (km:KhuyenMai {MaKM:"KM001"}), (dm:DanhMuc {MaDM:"DM02"}) CREATE (km)-[:AP_DUNG_CHO]->(dm);

// KM002: Giáº£m 15% cho sáº£n pháº©m "Gáº¡o lá»©t Ä‘á»" (SP021)
MATCH (km:KhuyenMai {MaKM:"KM002"}), (sp:SanPham {MaSP:"SP021"}) CREATE (km)-[:AP_DUNG_CHO]->(sp);


// ThÃªm SoTon = 5 cho sáº£n pháº©m SP001 â†’ SP010 cá»§a cá»­a hÃ ng CHHN01
MATCH (ch:CuaHang {MaCH:"CHHN01"})-[r:CUNG_CAP]->(sp:SanPham)
WHERE sp.MaSP <= "SP010"
SET r.SoTon = 5;

// ThÃªm SoTon = 8 cho sáº£n pháº©m SP011 â†’ SP030 cá»§a cá»­a hÃ ng CHHCM01
MATCH (ch:CuaHang {MaCH:"CHHCM01"})-[r:CUNG_CAP]->(sp:SanPham)
WHERE sp.MaSP >= "SP011" AND sp.MaSP <= "SP030"
SET r.SoTon = 8;

// ThÃªm SoTon = 10 cho sáº£n pháº©m SP031 â†’ SP040 cá»§a cá»­a hÃ ng CHDN01
MATCH (ch:CuaHang {MaCH:"CHDN01"})-[r:CUNG_CAP]->(sp:SanPham)
WHERE sp.MaSP >= "SP031" AND sp.MaSP <= "SP040"
SET r.SoTon = 10;


// Phiáº¿u nháº­p nÃ y cho cá»­a hang
MATCH (pn:PhieuNhap {MaPN:"PN002"}), (ch:CuaHang {MaCH:"CHHN01"})
CREATE (pn)-[:NHAP_CHO_CUAHANG]->(ch);

// Cáº­p nháº­t tá»“n kho tá»± Ä‘á»™ng khi phiáº¿u nháº­p PN002 Ä‘Æ°á»£c nháº­p cho cá»­a hÃ ng CHHN01
MATCH (pn:PhieuNhap {MaPN:"PN002"})-[nhap:NHAP_SANPHAM]->(sp:SanPham),
      (pn)-[:NHAP_CHO_CUAHANG]->(ch:CuaHang)
MERGE (ch)-[r:CUNG_CAP]->(sp)
ON CREATE SET r.SoTon = nhap.SoLuong
ON MATCH SET r.SoTon = r.SoTon + nhap.SoLuong;
